2007-11-16  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* pool_auth.c: Fix segmentation fault in a password authentication
	  when a node is down. 

2007-10-18  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* pool_query_cache.c: Although the second argument of
	  PQunescapeBytea() requires size_t which size is 8 byte in 64bit
	  machine, pgpool passed 4 byte variable. It caused segfault. So
	  fixed passing size_t variable.

2007-10-16  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* pool_process_query.c: Fix hang up in load balancing mode. The
	  bug was introduced in V1.2.

2007-10-15  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* pool_process_query.c: Fix invalid memory access when pgpool
	  processed DEALLOCATE statement.

2007-10-12  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* parser/parser.c, pool_parser.h, scan.l: Fix scanner's error
	  handling. If there was a unterminated double-quote identifier,
	  scanner entered infinite-loop.

2007-10-12  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* child.c, pool.h, pool_config.l, pool_config.c
	  pool_process_query.c: Add new directive
	  "authentication_timeout". The directive means the maximum time
	  in seconds to complete client authentication. The default value
	  is 60.

2007-10-11  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* child.c, pool.h: Check startup packet length. If the length is
	  greater than 10,000 byte, pgpool reject the connection.

2007-09-26  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* pool_process_query.c: SET statements are replicated in
	  master/slave mode.

2007-09-14  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* child.c, pool.h, pool_process_query.c: pool_process_query.c: Fix
	  hang up when load balancing node was down. If load balancing
	  node was down, select other node.

2007-08-29  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* pool_process_query.c: Parse message including
	  INSERT/UPDATE/DELETE query acquires RowExclusiveLock. However
	  pgpool did not wait a response from each node. It was possible
	  to occur deadlock problem.

	  Fix memory leak in reset_prepared_list.

2007-07-26  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* child.c, pool.h, pool_connection_pool.c: SIGALRM handler didn't
	  safe. Because it called non-reentrant functions. We only set a
	  flag in SIGALRM handler. Then we close expired connections in
	  safe places.

2007-07-26  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* pool_connection_pool.c: Fix memory leak when connection slot is
	  full.

2007-07-24  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* pool.h, pool_process_query.c: Detect deadlock in
	  do_command(). When insert_lock was true, kind mismatch error
	  occured.

2007-07-24  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* child.c, pool_type.h, pool_process_query.c: pgpool chooses it
	  after receiving AuthenticationOK('R') message. So pgpool load
	  balance to the same node inside a same session.

2007-07-23  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* pgpool.conf.sample, pool.h, pool_config.l, pool_process_query.c:
	  Add new parameter named "replicate_select". Default value is
	  'false'. If it is true, pgpool replicates SELECT queries when
	  load balancing is disabled. This is a old specification which
	  was V1.0. If it is false, pgpool only sends them to the master
	  node. This is a current specification.

2007-07-17  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* pool_process_query.c: Fix hang up when backend node did fast or
	  immediate shutdown.

2007-07-11  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* pool.h, pool_stream.c, pool_process_query.c: Fix kind mismatch
	  error when deadlock occured.

2007-07-09  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* main.c: Fix signal handling.

2007-07-05  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* pool_process_query.c: Fix bugs in master_slave mode.

2007-06-27  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* pool.h, pool_process_query.c: Fix hang up when a SELECT query
	  has error inside transaction block. It occurs only in simple
	  query protocol.

2007-06-20  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* main.c: Fix SIGCHLD and SIGUSR1 signal handling. Signal handlers
	  set flags only, then a parent process checks flags in signal
	  safe places.

2007-06-18  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* pool_process_query.c: Fix compile warning and memory leak in
	  CursorResponse().

2007-06-15  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* Version 1.1.1

2007-06-11  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* pool_process_query.c: Fix kind mismatch error when
	  load_balance_mode is true 

2007-06-02  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* pool_process_query.c: Fix typo EmptyQueryResponse
	  message. pgpool hung up in EXECUTE command. (Patch contributed
	  by Kenichi Sawada)

2007-05-29  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* pool_process_query.c: Fix handling protocol version 2.

2007-05-25  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* Version 1.1

2007-05-24  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* parser/pool_memory.c: Fix core dump in pool_memory_realloc().

2007-05-17  Taiki Yamaguchi  <yamaguchi@sraoss.co.jp>

	* Support HBA authentication.
	* Support log_connections
	* Support log_hostname
	* Support "ps" status display
	* sample/pgpool.pam: PAM service configuration file. It will be
	  installed to "$PREFIX/share/pgpool-II/"
	* doc/pgpool-ja.html: Added pool_hba description.
	* doc/pgpool-en.html: Added pool_hba description.

2007-04-26  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* pool_connection_pool.c: Retry connect() when it is interrupted
	  by signal.

2007-04-20  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* pool_process_query.c: Enhance that the query that begins with
	  "SELECT nextval()" or "SELECT setval()" are always replicated
	  under replication mode. Then, SELECT statements are only
	  executed by MASTER node if load_balance_mode is false. If need
	  to replicate select statement, add a comment in the begining of
	  the query.

2007-03-01  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* pool_process_query.c: Support load balancing with extended
	  protocol.

2007-03-01  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* parser/Makefile.am, parser/copyfuncs.c: Porting deep copy
	  functions for tree nodes from PostgreSQL.

2007-02-28  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* Makefile.am: Use libtool's -rpath option instead of ld's rpath
	  option. Because rpath option name is platform-dependent.

2007-02-16  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* Makefile.am, configure.in, pool_connection_pool.c,
	  pool_query_cache.c, pcp/pcp.c, pcp/pcp_stream.c: Fixed compile
	  error on MacOS X. MacOS's ld does not have rpath option. So add
	  --disable-rpath option to configure for MacOS X.

2007-02-13  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* Version 1.0.2

2007-02-12  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* doc/pgpool-ja.html: Add release note.

2007-02-12  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* doc/pgpool-ja.html: Add Japanese release note into
	  pgpool-ja.html.

2007-02-12  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* child.c, pool.h, pool_connection_pool.c: pgpool *only* checks
	  backend connection when connection pool is reused.

2007-02-09  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* NEWS: fix indent.

2007-02-09  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* NEWS: Remove '\000'.

2007-02-08  Tatsuo Ishii  <ishii@sraoss.co.jp>

	* doc/pgpool-en.html: prepare for 1.0.2

2007-02-08  Tatsuo Ishii  <ishii@sraoss.co.jp>

	* NEWS, config.h.in, configure: Prepare for 1.0.2

2007-02-08  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* doc/pgpool-ja.html: Add new loadbalancing rule in replication
	  mode section.

2007-02-08  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* pool_query_cache.c, configure.in, pool_system.c: Fixed configure
	  error if libpq version is 7.4.x. 7.4 does not have PQprepare().
	  So when version is 7.4, pgpool uses PREPARE statement instead of
	  PQprepare().

2007-02-08  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* configure.in: Prepare for 1.0.2

2007-02-07  Tatsuo Ishii  <ishii@sraoss.co.jp>

	* Makefile.in, aclocal.m4, configure, configure.in, pool_config.c,
	  parser/Makefile.in, pcp/Makefile.in: update configure.in to use
	  pg_config.  Patch made by Yoshiyuki Asaba.

2007-02-06  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* pool_connection_pool.c: Add checking socket state when connection
	  pool is reused.  If socket is closed, pgpool try to create new
	  connection pool.

2007-01-30  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* pool_process_query.c: Disable to load balance in the following
	  cases.    - SELECT FOR UPDATE    - SELECT INTO    - /* xxx */
	  SELECT ... (This is pgpool-I spec.)

2007-01-13  Taiki Yamaguchi  <yamaguchi@sraoss.co.jp>

	* pool_signal.h:
	  fixed #ifndef ~ #define macro for that it could have been
	  included redundantly.

2007-01-10  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* pool_process_query.c: Fix auto-deallocation. If a client used PDO
	  interface, pgpool didn't clean prepared statement.

2007-01-05  Devrim GUNDUZ  <devrim@commandprompt.com>

	* COPYING, child.c, main.c, pcp_child.c, pgpool.8.in, pool.h,
	  pool_auth.c, pool_config.c, pool_config.l,
	  pool_connection_pool.c, pool_error.c, pool_ipc.h, pool_params.c,
	  pool_process_query.c, pool_query_cache.c, pool_rewrite_query.c,
	  pool_rewrite_query.h, pool_sema.c, pool_shmem.c, pool_signal.c,
	  pool_signal.h, pool_stream.c, pool_system.c, pool_type.h,
	  parser/pool_memory.c, parser/pool_memory.h, parser/pool_string.c,
	  parser/pool_string.h: Copyright update

2006-12-25  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* Makefile.am, Makefile.in: Fix libpq link error (Reported by
	  ISHIDA Akio).

2006-12-04  Tatsuo Ishii  <ishii@sraoss.co.jp>

	* pool_process_query.c: Fix bug with replication mode. With
	  UPDATE/DELETE, the number of affcted rows should not be sum of
	  each node.

2006-12-02  Tatsuo Ishii  <ishii@sraoss.co.jp>

	* pool_process_query.c: Add backend status info to show pool_status

2006-12-02  Tatsuo Ishii  <ishii@sraoss.co.jp>

	* main.c: enhance logging to make it clear what kind of
	  failover/failback event ocuured.

2006-12-02  Tatsuo Ishii  <ishii@sraoss.co.jp>

	* TODO: update TODO document to reflect current status

2006-11-30  Devrim GUNDUZ  <devrim@commandprompt.com>

	* child.c, pool_auth.c: Fix small typos in messages

2006-11-30  Devrim GUNDUZ  <devrim@commandprompt.com>

	* pgpool.conf.sample: Fix small typos in config file

2006-11-15  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* pool_process_query.c: Fix an extended query protocol handling.

2006-11-13  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* parser/pool_memory.c: Fix SIGSEGV under parallel mode.

2006-11-10  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* parser/pool_memory.c: 
	  - Add NULL checking in pool_memory_free().
	  - Fix SIGSEGV in pool_memory_alloc() if allocate size is 8192
	  byte.

	    void *x;
	    pool_memory = pool_memory_create();
	    x = pool_memory_alloc(pool_memory, 8192);

2006-11-04  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* parser/pool_memory.c: Fixed a inifinite loop in
	  pool_memory_free().

2006-10-04  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* pool_rewrite_query.c: Fix rewriting a query which refers
	  pg_catalog.  Patch contributed by Yoshiharu Mori.

2006-10-04  Devrim GUNDUZ  <devrim@commandprompt.com>

	* pgpool.spec: - Added -libs and -devel RPM - Fix .so link problem
	  - Cosmetic changes to spec file

2006-10-04  Devrim GUNDUZ  <devrim@commandprompt.com>

	* pgpool.spec: [no log message]

2006-09-27  Devrim GUNDUZ  <devrim@commandprompt.com>

	* pgpool.spec: * Thu Sep 27 2006 - Devrim GUNDUZ
	  <devrim@commandprompt.com> 1.0.1-3 - Fix spec, per Yoshiyuki
	  Asaba

	  * Thu Sep 26 2006 - Devrim GUNDUZ <devrim@commandprompt.com>
	  1.0.1-2 - Fixed rpmlint errors - Fixed download url - Added
	  ldconfig for .so files

	  ** Thu Sep 21 2006 - David Fetter <david@fetter.org> 1.0.1-1 -
	  Initial build pgpool-II 1.0.1 for PgPool Global Development Group

2006-09-27  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* pool_process_query.c: Fix load balancing algorithm. Patch
	  contributed by Jeff Davis.

	  See the following URL for more details.
	  http://pgfoundry.org/pipermail/pgpool-hackers/2006-September/000034.html

2006-09-25  Yoshiyuki Asaba  <y-asaba@sraoss.co.jp>

	* doc/: pgpool-en.html, pgpool-ja.html: Add pam authentication in
	  supported authentication protocol list.  Reported by Jeff Davis.

2006-09-22    <ishii@sraoss.co.jp>

	* Version 1.0.1
	* Fix debug message in simpleQuery() so that it correctly prints
	  query string when operated in MASTER_SLAVE mode (Tatsuo)
	* Fix kind mismatch error in COPY FROM STDIN (Yoshiyuki, backport from pgpool)
	* Fix master/slave mode (Tatsuo)
	  See following message for more details.
	  Subject: [Pgpool-general] pgpool-II master/slave mode, BackendError
	  From: Jeff Davis
	  To: pgpool-general@pgfoundry.org
	  Date: Tue, 12 Sep 2006 16:48:49 -0700
	* Many docs fix (Devrim, Yoshiyuki)
	
2006-09-08    <ishii@sraoss.co.jp>

	* Version 1.0.0
